=== 2026-01-28 Daily Log ===

1. 이슈 트러블슈팅: Webtoon 기능 서버 배포 후 404 및 이미지 엑박 현상
   - 증상: 로컬(localhost)에서는 정상 동작하나, 서버(sogething.com) 접속 시 웹툰 생성/조회 API가 404(Not Found) 반환.
   - 원인 분석: 
     - 운영 서버의 Nginx 설정이 `/api` 경로만 백엔드(8001)로 프록시하도록 설정됨.
     - 새로 개발한 Novel 기능이 독자적인 `/novel` 경로를 사용하고 있어 Nginx가 백엔드로 요청을 전달하지 못함.
     - 프론트엔드 코드에 `localhost:8001` 하드코딩이 남아있어 배포 후에도 로컬 주소를 참조함.

2. 해결 조치 (Refactoring)
   - [Backend] Router Prefix 변경:
     - `back/novel/router.py`: Prefix를 `/novel` -> `/api/novel`로 변경하여 Nginx 프록시 규칙 준수.
   - [Frontend] API Client 수정:
     - `front/src/api/novel.js`: 모든 요청 경로에 `/api` 접두사 추가.
     - `front/src/api/client.js`: `sogething.com` 접속 시 올바른 백엔드 IP/Port를 가리키도록 로직 강화.
   - [Worflow] 이미지 생성 경로 수정:
     - `back/novel/langgraph_workflow.py`: 생성된 이미지(표지, 캐릭터, 씬)의 저장 경로를 `/api/novel/image/...`로 변경.

3. 레거시 데이터 호환성 확보
   - 문제: 기존 DB에 저장된 데이터는 여전히 `/novel/image/...` 경로를 가지고 있어 엑박 발생.
   - 해결: `NovelList.jsx`, `NovelView.jsx`에 `getImageUrl` 헬퍼 함수 추가.
     - 경로가 `/novel/`로 시작할 경우 자동으로 `/api/novel/`로 변환하여 요청하도록 처리.

4. 예방 조치
   - `.agent/skills/project-conventions/SKILL.md` 생성: 향후 모든 API 개발 시 `/api` Prefix 사용 및 배포 스크립트 실행 규칙 명문화.
