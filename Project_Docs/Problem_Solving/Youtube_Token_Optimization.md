[문제 해결 로그: YouTube API 비용 절감 및 최적화 전략]

1. 상황 (Context)
- 데이팅 앱 내에서 유튜브 영상을 공유하고 시청하는 기능을 개발함.
- YouTube Data API v3를 사용하며, 하루 무료 할당량(Quota)은 10,000 unit으로 제한됨.
- '검색(Search)' 기능은 호출 1회당 100 unit이 소모되는 고비용 작업임.

2. 문제 (Problem)
- 사용자가 검색할 때마다 100 unit씩 차감되면, 소수의 사용자로도 서비스가 중단될 위험이 있음.
- 영상 썸네일 이미지를 직접 서버에 저장하면 스토리지 및 트래픽 비용이 발생함.

3. 해결 전략 (Solution)

A. 1회 호출 시 최대 효율 추구
- API 비용은 '반환되는 아이템 개수'가 아니라 '호출 횟수'에 따라 부과됨.
- 기존 12개씩 가져오던 로직을 API 최대 허용치인 50개로 변경하여 4배 효율 증대.

B. 메타데이터 DB 캐싱 및 이미지 외부 로딩 (Zero Cost Strategy)
- 전략 1 (데이터): 영상 ID, 제목, 썸네일 URL 텍스트만 DB에 저장. (영상 파일 저장 X)
- 전략 2 (이미지): 썸네일 이미지를 우리 서버에 다운로드하지 않고, 유튜브 URL을 그대로 사용 (`img src="youtube_url"`).
- 효과:
    1) API 비용 0: DB에서 텍스트 조회만 수행.
    2) 트래픽 비용 0: 이미지는 사용자가 유튜브 서버(CDN)에서 직접 다운로드하므로 우리 서버 대역폭을 전혀 쓰지 않음 ("개꿀 전략").

C. 비용 차이가 큰 API 구분 사용
- 고비용인 검색(Search, 100 unit)보다 저비용인 인기 리스트(List, 1 unit) 조회를 유도하는 UI 설계.

4. 기술적 구현 (Implementation)
- Backend: Referer 헤더 주입으로 API 보안 우회.
- Frontend: Iframe 플레이어를 사용하여 영상 재생 트래픽도 전적으로 유튜브에 위임.
ㅛ
5. 상세 비용 비교표
(행동 / API 직접 사용 시 비용 / DB 캐싱 전략 사용 시 비용)

1) 리스트 조회: 100점 (API 호출) / 0점 (DB 조회 무료)
2) 썸네일 로딩: 0원 (유튜브 대역폭) / 0원 (유튜브 대역폭 - URL만 제공하므로 서버 비용 0)
3) 영상 재생: 0원 (Iframe) / 0원 (Iframe)
4) 링크 이동: 0원 / 0원

** 결론 **
DB에 '텍스트(URL)'만 저장해두면, 앱 내에서 수만 번의 조회와 재생이 일어나도
API 비용은 '0점', 이미지 트래픽 비용은 '0원'입니다.
오직 최초 1회의 검색 비용만 투자하면 영구적인 자산이 됩니다.
