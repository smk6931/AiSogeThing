================================================================================
[ 유튜브 데이터 수집 및 개인화 아키텍처 (Youtube Collection Architecture) ]
================================================================================

1. 핵심 전략: 하이브리드 수집 (RSS + API + On-Demand)
   유튜브 API의 하루 쿼터(10,000 Unit)는 매우 제한적입니다.
   따라서 비용이 0인 RSS, 고품질 데이터인 API, 그리고 '필요할 때만 쓰는' On-Demand 전략을 혼합합니다.

   A. RSS (Cost: 0) - "상시 감시"
      - 역할: 특정 채널의 '최신 영상' 감지
      - 방식: 등록된 채널의 XML 피드를 주기적으로 긁어옴
      - 한계: 조회수 정보 누락, 카테고리 정보 부족, 쇼츠 구분 모호
      - 활용: 관심있는 유튜버의 신작 알림, 빠른 수집

   B. Data API (Cost: 1 ~ 100) - "데이터 보강"
      - 역할: 인기 급상승(Trend) 수집, 상세 메타데이터(조회수, 시간, 태그) 확보
      - 방식:
        1. 글로벌 트렌드 수집: Cost 1로 50개 영상 정보 획득 (가성비 최강)
        2. 검색 기능: Cost 100 소모 (가급적 제한적으로 사용)

   C. On-Demand Fetching (Cost: 1) - "스마트 구독" (New!)
      - 문제: RSS만으로는 채널의 프로필(썸네일, 설명)을 알 수 없음.
      - 해결: 사용자가 '구독' 버튼을 누르는 순간, DB에 채널 정보가 없다면 즉시 API를 호출.
      - 효과:
        1. 존재하지 않는 채널도 즉시 구독 가능.
        2. 최초 1회만 Cost 1을 소모하고, 이후엔 DB 데이터를 재사용 (Zero Cost).
        3. 사용자 경험(썸네일 표시)과 비용 절감을 동시에 달성.

--------------------------------------------------------------------------------

2. 데이터 구조: 채널(Channel) vs 영상(Video) 분리

   A. YoutubeChannels (채널 메타 정보)
      - 목적: 구독 관리, UI 표시(썸네일), 취향 분석의 기준점
      - 주요 필드: channel_id, name, thumbnail_url, description, keywords
      - 관리: On-Demand Fetching을 통해 동적으로 DB에 쌓임.

   B. YoutubeList (영상 데이터)
      - 목적: 실제 피드 구성 및 추천 소스
      - 주요 필드: video_id, title, tags, view_count, is_short, category_id, country_code
      - 특징: 글로벌 트렌드 수집기를 통해 대량의 영상이 지속적으로 유입됨.
      - 전략: Upsert(ON CONFLICT)를 사용하여 중복 시 최신 조회수로 갱신.

--------------------------------------------------------------------------------

3. 글로벌 수집기 (Global Trend Collector)
   단순 한국 인기 급상승만으로는 콘텐츠가 부족합니다.
   전 세계 11개국(KR, US, JP, EU 등)의 데이터를 수집하여 '탐험'의 재미를 제공합니다.

   - 방식: 국가 코드(regionCode) + 카테고리 ID 조합으로 API 호출
   - 효과: 사용자에게 "한국에 없는" 신선한 영상을 끊임없이 공급 가능
   - 자동화: Cron 작업으로 하루 1~2회 전 세계를 순회하며 DB를 살찌움

--------------------------------------------------------------------------------

4. 취향 분석 및 추천 알고리즘 (Future Plan)
   단순히 "많이 본 것"을 추천하는 것을 넘어, '성향(Taste)'을 분석합니다.

   A. 데이터 소스 (Input)
      - 사용자가 '구독'한 채널의 description 및 keywords
      - 사용자가 3분 이상 '시청'한 영상의 tags 및 title
   
   B. 분석 로직 (Process)
      - 수집된 텍스트(Tags, Desc)를 합쳐 하나의 '유저 프로파일 문서' 생성
      - 형태소 분석 및 빈도 분석 -> 주요 관심 키워드 추출 (예: "연애", "재테크", "축구")
   
   C. 활용 (Output)
      - 유사도 매칭: 유저 키워드와 유사한 태그를 가진 '새로운 영상' 추천
      - 임베딩(Embedding): 추후 벡터 DB 도입 시, 유저 벡터와 영상 벡터 간 거리 계산

   => 이를 통해 "내가 좋아할 것 같지만, 아직 모르는" 채널을 발견하게 함.
